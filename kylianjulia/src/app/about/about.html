<main>
    <div class="menu">
        <div class="menu-btn" (click)="toggleMenuCV()">
            <div class="menu-bar"></div>
            <div class="menu-bar"></div>
            <div class="menu-bar"></div>
        </div>
        <div class="menu-content" *ngIf="menuCV">
            <a href="/about#formations">Formations</a>
            <a href="/about#experiences">Expérience</a>
            <a href="/about#competences">Compétences</a>
            <a href="/about#associatif">Associatif</a>
            <a href="/about#moncv">Mon CV</a>
        </div>
    </div>

    <div class="content">
        <section id="formations">
            <h2>Mes formations</h2>
            <section class="formation" *ngFor="let form of formation">
                <div class="col-g">
                    <p>{{ form.periode }}</p>
                </div>
                <div class="col-d">
                    <h3>{{ form.nom }}</h3>
                    <p><b>{{ form.ecole }}</b> | {{ form.lieu }}</p>
                    <p>{{ form.description }}</p>
                </div>
            </section>
        </section>

        <section id="experiences">
            <h2>Mes expériences</h2>
            <section class="experience" *ngFor="let exp of experience">
                <div class="col-g">
                    <p>{{ exp.periode }}</p>
                </div>
                <div class="col-d">
                    <h3>{{ exp.nom }}</h3>
                    <p>{{ exp.lieu }}</p>
                    <ul *ngIf="exp.details">
                        <li *ngFor="let det of exp.details">{{ det }}</li>
                    </ul>
                </div>
            </section>
        </section>

        <section id="competences">
            <h2>Mes compétences techniques</h2>

            <section
                class="competence"
                *ngFor="let bloc of blocs; let i = index"
                [class.reverse]="i % 2 === 1"
            >
                <h3>{{ bloc.titre }}</h3>
                <div class="list-competences" #list>
                    <span *ngFor="let skill of bloc.skills">{{ skill }}</span>
                </div>
                <div class="fade"></div>
            </section>
        </section>

        <section id="associatif">
            <h2>Mon engagement dans l'associatif</h2>

            <section class="assos">
                <ul class="logos">
                <li *ngFor="let asso of associations" (click)="selectAsso(asso)">
                    <img
                    [src]="asso.logo"
                    [alt]="'Logo ' + asso.name"
                    [class.active]="selectedAsso?.name === asso.name"
                    />
                </li>
                </ul>

                <div class="infos" *ngIf="selectedAsso">
                <h3>{{ selectedAsso.name }}</h3>
                <h4>{{ selectedAsso.description }}</h4>
                <h5>Poste : {{ selectedAsso.role }}</h5>
                <ul *ngIf="selectedAsso.details">
                    <li *ngFor="let detail of selectedAsso.details">{{ detail }}</li>
                </ul>
                </div>
            </section>
            </section>

        <section id="moncv">
            <h2>Mon CV au format PDF</h2>
            <div class="tel-cv">
                <button class="french" (click)="selectCV(CV[0])"><span>Mon CV français</span></button>
                <button class="english" (click)="selectCV(CV[1])"><span>My english resume</span></button>
            </div>
        </section>
    </div>

    <div class="bg-CV-PDF" *ngIf="modalCV" (click)="closeModal()">
        <div class="modal-CV" (click)="$event.stopPropagation()">
            <div class="close" (click)="closeModal()">&times;</div>
            <div class="modal-content">
                <h2 *ngIf="langCV === 'fr'">Mon CV</h2>
                <h2 *ngIf="langCV === 'en'">My resume</h2>
            </div>
        </div>
    </div>

</main>
